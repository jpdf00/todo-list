(()=>{"use strict";const t=(t,e)=>({id:t,name:e});function e(e){if(null===localStorage.getItem(`${e}`)){let n;"projects"===e?n=[t(0,"Default Project")]:"tasks"===e?n=[]:"Count"===e.match(/Count/g).toString()&&(n=0),localStorage.setItem(`${e}`,JSON.stringify(n))}}function n(t){const e=document.querySelector("#projectsContent"),n=(t=>{const e=document.createElement("div");e.setAttribute("class","itemCard flexContainer"),e.setAttribute("id",`project${t.id}`);const n=document.createElement("p");n.setAttribute("class","textFormat"),n.textContent=t.name;const r=document.createElement("i");r.setAttribute("class","editProject projectBtn fas fa-edit"),r.setAttribute("id",`editProject${t.id}`);const a=document.createElement("i");return a.setAttribute("class","deleteProject projectBtn far fa-trash-alt"),a.setAttribute("id",`deleteProject${t.id}`),e.appendChild(n),e.appendChild(r),e.appendChild(a),e})(t);e.appendChild(n)}function r(t){const e=document.querySelector("#tasksContent"),n=(t=>{const e=document.createElement("div");e.setAttribute("class","itemCard flexColumn"),e.setAttribute("id",`task${t.id}`);const n=document.createElement("div");n.setAttribute("class","flexContainer");const r=document.createElement("h2");r.setAttribute("class","title"),r.textContent=t.name,n.appendChild(r);const a=document.createElement("p");a.setAttribute("class","dateFormat"),a.textContent=t.name,n.appendChild(a);const o=document.createElement("div");o.setAttribute("class","flexColumn");const c=document.createElement("i");c.setAttribute("class","alignUp projectBtn far fa-calendar completeTask"),c.setAttribute("id",`completeTask${t.id}`),o.appendChild(c);const s=document.createElement("i");s.setAttribute("class","alignDown projectBtn fas fa-angle-double-down showDetail"),s.setAttribute("id",`showDetail${t.id}`),o.appendChild(s),n.appendChild(o),e.appendChild(n);const i=document.createElement("div");i.setAttribute("class","taskDetail"),i.setAttribute("id",`taskDetail${t.id}`),i.setAttribute("hidden","true");const l=document.createElement("div");l.setAttribute("class","flexContainer");const d=document.createElement("div");d.setAttribute("class","flexContainer detailStyle detailSize");const u=document.createElement("p");u.setAttribute("class","textFormat marginRight"),u.textContent=t.description,d.appendChild(u);const m=document.createElement("p");m.setAttribute("class","textFormat marginRight"),m.textContent=t.priority,d.appendChild(m);const p=document.createElement("p");p.setAttribute("class","textFormat marginRight"),p.textContent=t.project,d.appendChild(p),l.appendChild(d);const b=document.createElement("div");b.setAttribute("class","flexContainer detailStyle");const h=document.createElement("i");h.setAttribute("class","editTask projectBtn marginRight fas fa-edit"),h.setAttribute("id",`editTask${t.id}`),b.appendChild(h);const g=document.createElement("i");return g.setAttribute("class","deleteTask projectBtn marginRight far fa-trash-alt"),g.setAttribute("id",`deleteTask${t.id}`),b.appendChild(g),l.appendChild(b),i.appendChild(l),e.appendChild(i),e})(t);e.appendChild(n)}e("projects"),e("tasks"),e("projectCount"),e("taskCount"),function(){const t=JSON.parse(localStorage.getItem("projects"));for(let e=0;e<t.length;e+=1)n(t[e])}(),function(){const t=JSON.parse(localStorage.getItem("tasks"));for(let e=0;e<t.length;e+=1)r(t[e])}();const a=document.querySelector("#projectFormModal"),o=document.querySelector("#taskFormModal"),c=document.querySelector("#btnNewProject"),s=document.querySelector("#btnNewTask"),i=document.querySelector("#btnCloseProject"),l=document.querySelector("#btnCloseTask"),d=document.querySelector("#saveProject"),u=document.querySelector("#saveTask"),m=document.querySelector("#showDetail"),p=document.querySelector("#taskDetail");c.addEventListener("click",(()=>{a.removeAttribute("hidden"),d.setAttribute("value","new")})),s.addEventListener("click",(()=>{o.removeAttribute("hidden"),u.setAttribute("value","new")})),i.addEventListener("click",(()=>{a.setAttribute("hidden","true")})),l.addEventListener("click",(()=>{o.setAttribute("hidden","true")})),window.onclick=function(t){t.target==a&&a.setAttribute("hidden","true"),t.target==o&&o.setAttribute("hidden","true")},m.addEventListener("click",(()=>{p.hasAttribute("hidden")?(p.removeAttribute("hidden"),m.setAttribute("class","alignDown projectBtn fas fa-angle-double-up showDetail")):(p.setAttribute("hidden","true"),m.setAttribute("class","alignDown projectBtn fas fa-angle-double-down showDetail"))})),d.addEventListener("click",(()=>{(function(){const e=document.querySelector("#projectName");n(function(e){const n=JSON.parse(localStorage.getItem("projects"));let r=JSON.parse(localStorage.getItem("projectCount"));r+=1;const a=t(r,e);return n.push(a),localStorage.setItem("projectCount",JSON.stringify(r)),localStorage.setItem("projects",JSON.stringify(n)),a}(e.value)),e.value=""})(),a.setAttribute("hidden","true"),d.value=""})),u.addEventListener("click",(()=>{(function(){const t=document.querySelector("#taskName"),e=document.querySelector("#taskDescription"),n=document.querySelector("#taskPriority"),a=document.querySelector("#taskProject"),o=document.querySelector("#taskDueDate");r(function(t,e,n,r,a){const o=JSON.parse(localStorage.getItem("tasks"));let c=JSON.parse(localStorage.getItem("taskCount"));const s=((t,e,n,r,a,o,c=!1)=>({name:e,description:n,priority:r,project:a,dueDate:o,completed:c}))(0,t,e,n,r,a);return c+=1,o.push(r),localStorage.setItem("taskCount",JSON.stringify(c)),localStorage.setItem("tasks",JSON.stringify(o)),s}(t.value,e.value,n.value,a.value,o.value)),t.value="",e.value="",n.value="",a.value="",o.value=""})(),projectFormTask.setAttribute("hidden","true"),u.value=""}))})();