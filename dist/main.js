(()=>{"use strict";const t=(t,e)=>({id:t,name:e});function e(e){if(null===localStorage.getItem(`${e}`)){let r;"projects"===e?r=[t(0,"Default Project")]:"tasks"===e?r=[]:"Count"===e.match(/Count/g).toString()&&(r=0),localStorage.setItem(`${e}`,JSON.stringify(r))}}function r(t){const e=document.querySelector("#projectsContent"),r=(t=>{const e=document.createElement("div");e.setAttribute("class","itemCard flexContainer"),e.setAttribute("id",`project${t.id}`);const r=document.createElement("p");r.setAttribute("class","textFormat"),r.textContent=t.name;const o=document.createElement("i");o.setAttribute("class","editProject projectBtn fas fa-edit"),o.setAttribute("id",`editProject${t.id}`);const n=document.createElement("i");return n.setAttribute("class","deleteProject projectBtn far fa-trash-alt"),n.setAttribute("id",`deleteProject${t.id}`),e.appendChild(r),e.appendChild(o),e.appendChild(n),e})(t);e.appendChild(r)}e("projects"),e("tasks"),e("projectCount"),e("taskCount"),function(){const t=JSON.parse(localStorage.getItem("projects"));for(let e=0;e<t.length;e+=1)r(t[e])}();const o=document.querySelector("#projectFormModal"),n=document.querySelector("#taskFormModal"),c=document.querySelector("#btnNewProject"),s=document.querySelector("#btnNewTask"),i=document.querySelector("#btnCloseProject"),a=document.querySelector("#btnCloseTask"),u=document.querySelector("#saveProject"),l=document.querySelector("#saveTask"),d=document.querySelector("#showDetail"),m=document.querySelector("#taskDetail");c.addEventListener("click",(()=>{o.removeAttribute("hidden"),u.setAttribute("value","new")})),s.addEventListener("click",(()=>{n.removeAttribute("hidden"),l.setAttribute("value","new")})),i.addEventListener("click",(()=>{o.setAttribute("hidden","true")})),a.addEventListener("click",(()=>{n.setAttribute("hidden","true")})),window.onclick=function(t){t.target==o&&o.setAttribute("hidden","true"),t.target==n&&n.setAttribute("hidden","true")},d.addEventListener("click",(()=>{m.hasAttribute("hidden")?(m.removeAttribute("hidden"),d.setAttribute("class","alignDown projectBtn fas fa-angle-double-up showDetail")):(m.setAttribute("hidden","true"),d.setAttribute("class","alignDown projectBtn fas fa-angle-double-down showDetail"))})),u.addEventListener("click",(()=>{(function(){const e=document.querySelector("#projectName");r(function(e){const r=JSON.parse(localStorage.getItem("projects"));let o=JSON.parse(localStorage.getItem("projectCount"));o+=1;const n=t(o,e);return r.push(n),localStorage.setItem("projectCount",JSON.stringify(o)),localStorage.setItem("projects",JSON.stringify(r)),n}(e.value)),e.value=""})(),o.setAttribute("hidden","true"),u.value=""}))})();